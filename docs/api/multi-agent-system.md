---
sidebar_position: 7
---

# Multi-Agent System API

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã CodeLab.

## –û–±–∑–æ—Ä

–ú—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ CodeLab —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## –ê–≥–µ–Ω—Ç—ã

### üé≠ Orchestrator Agent

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ê–Ω–∞–ª–∏–∑ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞ –¥–ª—è –∑–∞–¥–∞—á–∏
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã—Ö –∑–∞–¥–∞—á

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**:
- –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ —É—á–∞—Å—Ç–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –ù–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∞–Ω–∞–ª–∏–∑–∞

### üíª Coder Agent

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
- `write_file` - —Å–æ–∑–¥–∞–Ω–∏–µ/–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤
- `apply_diff` - —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö
- `read_file` - —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- `execute_command` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- `list_files` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

### üèóÔ∏è Architect Agent

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- Code review –∏ –∞–Ω–∞–ª–∏–∑

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
- `write_file` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `read_file` - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
- `search_files` - –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- `list_files` - –∏–∑—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### üêõ Debug Agent

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–∏—Å–∫ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –∏ stack traces
- –û—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
- `read_file` - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
- `apply_diff` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- `execute_command` - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- `search_files` - –ø–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤

### üí¨ Ask Agent

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π
- –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ best practices
- –û–±—É—á–µ–Ω–∏–µ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
- `read_file` - —á—Ç–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `search_files` - –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- `list_files` - –∏–∑—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## API Endpoints

### GET /api/v1/agents

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤.

**Request**:

```bash
curl http://localhost/api/v1/agents \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Response**:

```json
{
  "agents": [
    {
      "type": "orchestrator",
      "name": "Orchestrator Agent",
      "emoji": "üé≠",
      "description": "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∑–∞–¥–∞—á",
      "capabilities": [
        "task_routing",
        "agent_coordination",
        "complex_task_management"
      ]
    },
    {
      "type": "coder",
      "name": "Coder Agent",
      "emoji": "üíª",
      "description": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–¥–∞",
      "capabilities": [
        "code_writing",
        "code_editing",
        "refactoring",
        "testing"
      ]
    },
    {
      "type": "architect",
      "name": "Architect Agent",
      "emoji": "üèóÔ∏è",
      "description": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª–∏—Å—Ç",
      "capabilities": [
        "architecture_design",
        "documentation",
        "code_review",
        "planning"
      ]
    },
    {
      "type": "debug",
      "name": "Debug Agent",
      "emoji": "üêõ",
      "description": "–û—Ç–ª–∞–¥—á–∏–∫ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç–µ–ª—å –æ—à–∏–±–æ–∫",
      "capabilities": [
        "bug_fixing",
        "debugging",
        "error_analysis",
        "diagnostics"
      ]
    },
    {
      "type": "ask",
      "name": "Ask Agent",
      "emoji": "üí¨",
      "description": "–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∏ —É—á–∏—Ç–µ–ª—å",
      "capabilities": [
        "answering_questions",
        "explaining_concepts",
        "recommendations",
        "code_analysis"
      ]
    }
  ]
}
```

### GET /api/v1/agents/\{session_id\}/current

–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –¥–ª—è —Å–µ—Å—Å–∏–∏.

**Request**:

```bash
curl http://localhost/api/v1/agents/session-123/current \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Response**:

```json
{
  "session_id": "session-123",
  "current_agent": {
    "type": "coder",
    "name": "Coder Agent",
    "emoji": "üíª",
    "switched_at": "2026-01-21T10:15:00Z"
  },
  "previous_agent": {
    "type": "orchestrator",
    "name": "Orchestrator Agent",
    "emoji": "üé≠"
  }
}
```

### POST /api/v1/agents/\{session_id\}/switch

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).

**Request**:

```bash
curl -X POST http://localhost/api/v1/agents/session-123/switch \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_type": "architect",
    "reason": "Need architecture planning"
  }'
```

**Response**:

```json
{
  "session_id": "session-123",
  "switched_from": "coder",
  "switched_to": "architect",
  "timestamp": "2026-01-21T10:20:00Z"
}
```

## Agent Selection Logic

Orchestrator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞–≥–µ–Ω—Ç–∞:

```mermaid
flowchart TD
    Start[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å] --> Analyze[–ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞]
    Analyze --> Question{–¢–∏–ø –∑–∞–¥–∞—á–∏?}
    
    Question -->|–ù–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞| Coder[Coder Agent]
    Question -->|–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ| Architect[Architect Agent]
    Question -->|–û—Ç–ª–∞–¥–∫–∞| Debug[Debug Agent]
    Question -->|–í–æ–ø—Ä–æ—Å| Ask[Ask Agent]
    Question -->|–°–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞| Multi[–ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞]
    
    Multi --> Step1[Architect: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ]
    Step1 --> Step2[Coder: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è]
    Step2 --> Step3[Debug: –ü—Ä–æ–≤–µ—Ä–∫–∞]
    Step3 --> Done[–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ]
    
    Coder --> Done
    Architect --> Done
    Debug --> Done
    Ask --> Done
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: "–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç UserCard"

**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**:
1. **Orchestrator** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥
3. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ **Coder Agent**
4. Coder —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º

### –ü—Ä–∏–º–µ—Ä 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: "–ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫—É NullPointerException –≤ UserService"

**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**:
1. **Orchestrator** –≤–∏–¥–∏—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
2. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ **Debug Agent**
3. Debug –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥ –∏ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—É
4. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä 3: –°–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: "–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π –∏ —Ä–µ–∞–ª–∏–∑—É–π —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"

**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**:
1. **Orchestrator** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–æ–∂–Ω—É—é –∑–∞–¥–∞—á—É
2. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ **Architect** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. Architect —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
4. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ **Coder** –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
5. Coder –ø–∏—à–µ—Ç –∫–æ–¥ –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
6. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ **Debug** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
7. Debug —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã

## WebSocket Events

–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ WebSocket:

```json
{
  "type": "agent_switched",
  "data": {
    "from_agent": "orchestrator",
    "to_agent": "coder",
    "reason": "Code implementation required",
    "timestamp": "2026-01-21T10:15:00Z"
  }
}
```

## –°–º. —Ç–∞–∫–∂–µ

- [AI Assistant Overview](/docs/ai-assistant/overview)
- [Multi-Agent System](/docs/ai-assistant/multi-agent-system)
- [Tools Specification](/docs/api/tools-specification)
- [WebSocket Protocol](/docs/api/websocket-protocol)
